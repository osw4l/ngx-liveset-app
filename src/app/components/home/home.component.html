<div class="container-fluid mt-1">
  <div class="row">
    <div class="col-md-8">
      <h1 class="text-left">
        Welcome to live set by <code>osw4l</code>
      </h1>
    </div>
    <div class="col-md-4 text-right">
      <button (click)="goToLive()" class="btn mt-2" [disabled]="!liveOn"
              [class.btn-outline-dark]="!liveOn"
              [class.btn-outline-danger]="liveOn">
        Go to live <i class="fa fa-video-camera" aria-hidden="true"></i>
      </button>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4">
      <div class="card">
        <div class="card-header">
          <h4 class="float-left">
            <span *ngIf="liveOn" class="text-danger">Online</span>
            <span *ngIf="!liveOn">Offline</span>
            <div *ngIf="liveOn" class="spinner-grow text-danger pt-2" role="status">
              <span class="sr-only">Loading...</span>
            </div>
          </h4>
        </div>
        <div class="card-body">
          <app-live></app-live>
        </div>
        <div class="card-footer">
          <button class="btn btn-sm btn-success btn-block float-right" (click)="setLive()" [class.btn-danger]="liveOn">
            <span *ngIf="!liveOn">Start live <i class="fa fa-play"></i></span>
            <span *ngIf="liveOn">Stop live <i class="fa fa-stop"></i></span>
          </button>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card">
        <div class="card-header bg-info">
          <h4 class="text-white">
            Videos
          </h4>
        </div>
        <div class="card-body">
          <div *ngIf="!liveOn; else playList">
            <h3 class="text-center">
              Please turn on the live mode to see the playlist
            </h3>
          </div>
          <ng-template #playList>
            <ul class="list-group">
              <li class="list-group-item list-group-item-action" [class.active]="video.active" *ngFor="let video of videos; index as index" (click)="play(video.id, video.file, index)" >
                {{ video.name }}
                <i class="fa fa-play float-right mt-1" [class.text-success]="video.active"></i>
              </li>
            </ul>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>
